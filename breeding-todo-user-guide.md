# 🎯 待办事项系统使用指南

## 🆕 新功能概览

### 核心变化
- ✅ **自动生成**：入栏时自动创建80日龄完整任务计划
- ✅ **个性化管理**：每个批次有独立的任务记录
- ✅ **智能提醒**：基于真实入栏日期计算日龄和任务

## 📝 详细使用流程

### 1. 入栏操作（已升级）

#### 操作步骤
```
1. 打开小程序 → 入栏管理 → 新增入栏
2. 填写完整信息：
   - 鹅苗品种：如"狮头鹅"
   - 供应商：供应商名称
   - 采购数量：实际数量
   - 单价：每只价格
   - 入栏日期：选择准确日期（重要！）
3. 点击提交
```

#### 新的反馈信息
- 成功时显示：**"入栏记录创建成功，待办事项已自动生成"**
- 系统自动创建该批次的完整80日龄任务计划

### 2. 查看待办事项（全新体验）

#### 今日任务
```
1. 打开 待办事项 页面
2. 选择要管理的批次
3. 查看"今日任务"标签
4. 系统显示：
   - 当前日龄（如：第15日龄）
   - 今日应完成的具体任务
   - 每个任务的详细说明和注意事项
```

#### 即将到来的任务
```
1. 切换到"即将到来"标签
2. 查看未来7天的任务安排
3. 提前了解：
   - 需要准备的疫苗和药品
   - 重要的检查和记录节点
   - 饲养管理要点
```

#### 历史任务
```
1. 切换到"历史记录"标签
2. 查看已完成的任务记录
3. 追溯管理历程
```

### 3. 任务管理功能

#### 标记任务完成
```
1. 在任务列表中找到要完成的任务
2. 点击右侧的开关按钮
3. 系统自动记录完成时间
4. 任务变为已完成状态
```

#### 查看任务详情
```
1. 点击任务标题展开详情
2. 查看：
   - 详细描述和操作指导
   - 所需材料和工具
   - 用药剂量和注意事项
   - 预计用时
```

#### 添加任务记录
```
1. 点击任务的"记录"按钮
2. 跳转到对应的记录页面：
   - 疫苗接种 → 疫苗记录页
   - 用药治疗 → 治疗记录页
   - 健康检查 → 健康检查页
3. 填写详细的执行记录
```

## 📊 关键日龄任务概览

### 🔴 关键疫苗日程
- **第2日龄**：小鹅瘟高免血清第一针（必须！）
- **第6日龄**：痛风+呼肠孤+小鹅瘟+浆膜炎四联疫苗
- **第20日龄**：副粘+禽流感H9+安卡拉三联疫苗

### 🟡 重要管理节点
- **第5-15日龄**：控料期（加青饲料，减少蛋白饲料）
- **第30日龄**：关键防疫期结束，总结评估
- **第42日龄**：六周龄评估，驱虫处理
- **第70日龄**：出栏前健康检查
- **第80日龄**：出栏日，最终检查和总结

### 🟢 日常管理要点
- **每日检查**：精神状态、食欲、排便情况
- **环境管理**：温度、湿度、通风、清洁
- **营养管理**：饲料配比、饮水质量
- **预防用药**：按计划预防性投药

## 💡 最佳实践建议

### 1. 准确记录入栏日期
```
⚠️ 重要提醒：
- 入栏日期直接影响所有任务的计划时间
- 请确保选择的是实际入栏日期
- 入栏当天即为第1日龄
```

### 2. 每日查看任务
```
建议操作流程：
1. 每天早上打开待办事项
2. 查看今日任务列表
3. 按优先级执行任务
4. 及时标记完成状态
```

### 3. 提前准备物料
```
通过"即将到来"功能：
1. 提前3-7天查看未来任务
2. 准备所需疫苗、药品、工具
3. 安排合适的执行时间
```

### 4. 详细记录执行情况
```
对于重要任务：
1. 不仅要标记完成
2. 还要点击"记录"按钮
3. 详细记录执行过程和结果
4. 为后续管理提供参考
```

## 🔧 故障排除

### 问题1：没有显示今日任务
**可能原因和解决方案：**
```
1. 批次选择错误 → 确认选择了正确的批次
2. 日龄计算问题 → 检查入栏日期是否正确
3. 网络问题 → 刷新页面重试
```

### 问题2：任务完成状态无法切换
**解决步骤：**
```
1. 检查网络连接
2. 重新进入页面
3. 确认有足够的操作权限
```

### 问题3：缺少某些任务
**检查要点：**
```
1. 确认该日龄确实有任务安排
2. 检查是否已经完成过
3. 刷新页面获取最新数据
```

## 📞 技术支持

### 开发团队联系方式
- 功能问题：请提供具体的操作步骤和错误信息
- 数据问题：请提供批次号和出现问题的日期
- 建议反馈：欢迎提出功能改进建议

### 常用检查命令
```javascript
// 在开发者工具控制台中运行
// 检查当前批次任务数量
console.log('运行 verify-todo-system.js 脚本进行系统检查')
```

---

**最后更新**：2024年12月
**适用版本**：v2.0+
**用户类型**：养殖户、管理员
