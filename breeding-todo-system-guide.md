# 🗓️ 养殖待办事项管理系统使用指南

## 📋 系统概述

基于您提供的鹅科学防疫养殖流程Excel文档，我已经创建了一个完整的待办事项管理系统。该系统将养殖流程精确分解到每一天，避免了模糊的日期范围（如"2-5日龄"），而是具体到"第2天"、"第3天"、"第4天"、"第5天"的具体任务。

## ✨ 核心特点

### 1. **精确到日的任务分解**
- ❌ **避免模糊表述**: 不再是"2-5日龄开口药"
- ✅ **精确到天**: "第2天开口药第1天"、"第3天开口药第2天"...
- 🔄 **连续任务管理**: 自动识别连续任务并标注进度

### 2. **重叠任务智能提醒**
- ⚠️ **任务冲突检测**: 自动检测同一天的多个任务
- 📝 **重叠提醒**: 提示"此任务是4天连续任务的第2天"
- 🎯 **优先级排序**: 按照紧急程度排列任务

### 3. **完整的养殖周期覆盖**
- 📅 **1-80日龄全覆盖**: 从入栏到出栏的完整流程
- 🏥 **健康管理**: 疫苗、用药、检查、治疗
- 🌡️ **环境管理**: 温度调节、通风、密度控制
- 📊 **评估节点**: 定期生长评估和效果分析

## 📱 系统架构

### 前端页面
- **breeding-todo.wxml/ts/scss**: 主要待办事项管理页面
- **首页集成**: 在首页显示今日最重要的3个任务
- **跨页面导航**: 与疫苗记录、治疗记录等页面集成

### 后端支持
- **breeding-todo云函数**: 处理任务完成状态、历史记录
- **数据库集合**: task_completions、task_records
- **与生产管理集成**: 自动获取批次信息

### 核心数据配置
- **breeding-schedule.js**: 完整的80天养殖流程配置
- **任务类型定义**: 10种任务类型（疫苗、用药、检查等）
- **优先级管理**: 4级优先级（关键、高、中、低）

## 📋 具体任务示例

### 第2日龄（关键免疫日）
```javascript
{
  title: '小鹅瘟高免血清第一针',
  description: '小鹅瘟高免血清或高免蛋黄抗体，每只注射1.2毫升',
  type: 'vaccine',
  priority: 'critical',
  dosage: '1.2ml/只',
  estimatedTime: 120, // 分钟
  materials: ['小鹅瘟高免血清', '注射器', '酒精', '棉球'],
  notes: '必须在2日龄准时接种，不可延迟'
}
```

### 第2-5日龄（连续用药）
- **第2天**: 开口药第1天 + 弱苗筛选
- **第3天**: 开口药第2天 + 日常巡检 + 弱苗护理
- **第4天**: 开口药第3天 + 饲料调整
- **第5天**: 开口药第4天（最后一天）+ 效果评估

## 🚀 功能特点

### 1. **今日任务视图**
- 📅 显示当前日龄的所有任务
- ✅ 任务完成状态跟踪
- ⚠️ 重叠任务提醒
- 📝 任务详情展开
- 🎯 优先级颜色标识

### 2. **即将到来**
- 🔮 未来7天任务预览
- 📊 每天任务数量统计
- 🗓️ 日期自动计算
- 🔍 任务类型快速识别

### 3. **历史记录**
- 📋 已完成任务列表
- 📈 完成率统计
- 🕒 完成时间记录
- 📊 进度追踪

### 4. **批次管理**
- 🏭 多批次支持
- 📅 自动日龄计算
- 🔄 批次切换
- 📊 批次进度对比

## 🎯 使用流程

### 1. **首次使用**
```
1. 打开小程序首页
2. 查看"今日待办"卡片中的任务预览
3. 点击"查看全部"进入详细页面
4. 选择要管理的批次
```

### 2. **日常使用**
```
1. 查看今日任务列表
2. 点击任务展开详情
3. 按照指导完成任务
4. 勾选完成状态
5. 添加执行记录（可选）
```

### 3. **任务执行**
```
1. 点击"开始执行"查看详细提醒
2. 查看所需物料清单
3. 根据用量和注意事项执行
4. 完成后添加相关记录
```

## 📊 数据统计

### 实时统计
- 今日完成率
- 批次整体进度
- 任务类型分布
- 优先级完成情况

### 历史分析
- 完成率趋势
- 任务耗时统计
- 成本效益分析
- 养殖效果关联

## 🔗 系统集成

### 与现有模块的整合
- **健康管理**: 疫苗记录、治疗记录页面集成
- **生产管理**: 自动获取批次和存栏信息
- **物料管理**: 任务所需物料提醒
- **AI诊断**: 异常情况快速诊断入口

### 数据流转
```
生产入栏 → 计算日龄 → 生成待办 → 执行任务 → 记录完成 → 统计分析
```

## 💡 智能提醒功能

### 1. **连续任务提醒**
```
开口药连喂4天时，每天都会显示：
"⚠️ 连续任务：第X/4天"
```

### 2. **重叠任务处理**
```
同一天多个任务时显示：
"⚠️ 今日还有：疫苗接种、日常巡检"
```

### 3. **优先级提醒**
```
关键任务会特别标注：
"🔴 关键任务：小鹅瘟疫苗接种（不可延迟）"
```

## 📋 任务类型说明

| 类型 | 说明 | 图标 | 颜色 |
|------|------|------|------|
| 疫苗接种 | 各种疫苗的接种 | 💉 | 绿色 |
| 用药治疗 | 预防性用药和治疗 | 💊 | 橙色 |
| 巡检检查 | 日常健康检查 | 🔍 | 蓝色 |
| 环境管理 | 温度、通风调节 | 🏠 | 青色 |
| 饲养管理 | 饲料调整、密度控制 | 🌾 | 紫色 |
| 效果评估 | 阶段性评估分析 | 📊 | 红色 |
| 特殊护理 | 弱苗单独管理 | ❤️ | 黄色 |
| 观察监测 | 疫苗后反应观察 | 👁️ | 绿色 |
| 文件准备 | 证明文件准备 | 📄 | 紫色 |
| 物流管理 | 出栏运输准备 | 🚛 | 棕色 |

## ⚡ 快速操作

### 首页快捷功能
- 一键查看今日最重要任务
- 快速跳转到详细页面
- 紧急任务优先显示

### 批次切换
- 下拉选择不同批次
- 自动计算当前日龄
- 实时更新任务列表

### 任务操作
- 长按查看详情
- 滑动标记完成
- 一键添加记录

## 📈 统计分析

### 完成率分析
- 按日统计完成率
- 按类型分析完成情况
- 按优先级查看执行效果

### 趋势分析
- 任务执行趋势
- 批次对比分析
- 效率提升建议

## 🔧 系统配置

### 任务配置文件结构
```javascript
BREEDING_SCHEDULE = {
  1: [任务列表], // 第1日龄
  2: [任务列表], // 第2日龄
  // ... 完整80天配置
}
```

### 自定义配置
- 任务优先级调整
- 估算时间修改
- 物料清单更新
- 提醒文案自定义

## 🎉 系统优势

### 1. **精确性**
- 每天具体任务，不再模糊
- 连续任务精确跟踪
- 重叠任务智能提醒

### 2. **完整性**
- 80天完整周期覆盖
- 10种任务类型全面
- 4级优先级细分

### 3. **智能化**
- 自动日龄计算
- 智能任务分配
- 动态优先级调整

### 4. **实用性**
- 与现有系统集成
- 移动端友好界面
- 离线缓存支持

## 📞 技术支持

如需要调整任务配置、添加新的任务类型或修改提醒逻辑，请参考：
- `utils/breeding-schedule.js` - 核心配置文件
- `pages/breeding-todo/` - 页面文件
- `cloudfunctions/breeding-todo/` - 后端逻辑

---

## 🌟 使用建议

1. **每日必查**: 建议每天早上第一件事查看今日任务
2. **及时标记**: 完成任务后立即标记完成状态
3. **详细记录**: 重要任务执行后添加详细记录
4. **定期回顾**: 每周查看历史完成情况，总结经验
5. **批次对比**: 多批次养殖时对比不同批次的执行效果

**让每一天的养殖工作都井然有序，让每一只鹅都得到精心照顾！** 🦢✨
