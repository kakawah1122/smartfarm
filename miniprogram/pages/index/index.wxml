<view class="mobile-container">
  <!-- 新式导航栏 -->
  <navigation-bar 
    title="智慧养鹅"
    show-back="{{false}}"
  />



  <scroll-view class="scroll-container" scroll-y>
    <!-- 天气模块 -->
    <view class="card weather-card">
      <view class="card-content">
        <view class="weather-header">
          <view class="weather-left">
            <view class="weather-icon-wrapper">
              <text class="weather-emoji">☀️</text>
            </view>
            <view class="weather-info">
              <text class="weather-title">今日天气</text>
              <text class="weather-location">苏州市吴中区</text>
            </view>
          </view>
          <view class="weather-right">
            <text class="temperature">{{weather.temperature}}°C</text>
            <text class="humidity">湿度 {{weather.humidity}}%</text>
          </view>
        </view>

      </view>
    </view>

    <!-- 今日鹅价 -->
    <view class="card price-card">
      <view class="card-header">
        <text class="card-title">📈 今日鹅价</text>
        <text class="update-time">更新于 {{priceUpdateTime}}</text>
      </view>
      <view class="price-grid">
        <view class="price-item success-bg">
          <text class="price-label">成鹅价格</text>
          <text class="price-value success-text">¥{{goosePrice.adult}}<text class="price-unit">/斤</text></text>
          <text class="price-trend {{goosePrice.adultTrend > 0 ? 'trend-up' : 'trend-down'}}">
            {{goosePrice.adultTrend > 0 ? '↑' : '↓'}} {{goosePrice.adultChange}}
          </text>
        </view>
        <view class="price-item primary-bg">
          <text class="price-label">鹅苗价格</text>
          <text class="price-value primary-text">¥{{goosePrice.gosling}}<text class="price-unit">/羽</text></text>
          <text class="price-trend {{goosePrice.goslingTrend > 0 ? 'trend-up' : 'trend-down'}}">
            {{goosePrice.goslingTrend > 0 ? '↑' : '↓'}} {{goosePrice.goslingChange}}
          </text>
        </view>
      </view>
    </view>

    <!-- 待办事项 -->
    <view class="card todo-card">
      <view class="card-header">
        <text class="card-title">✅ 今日待办</text>
      </view>
      <view class="todo-list">
        <view class="todo-item" wx:for="{{todoList}}" wx:key="id">
          <view class="todo-left">
            <view class="todo-dot {{item.priority}}"></view>
            <text class="todo-text">{{item.content}}</text>
          </view>
          <t-tag theme="{{item.tagTheme}}" size="small" class="todo-tag">{{item.priorityText}}</t-tag>
        </view>
      </view>
      <t-button theme="light" size="medium" block bind:tap="viewAllTodos" class="view-all-btn">
        查看全部
      </t-button>
    </view>




  </scroll-view>
</view>