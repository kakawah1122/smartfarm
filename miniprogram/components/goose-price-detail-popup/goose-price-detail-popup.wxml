<!-- 鹅价记录详情弹窗组件 -->
<bottom-popup
  visible="{{visible}}"
  title="{{date}} 价格记录"
  show-close="{{true}}"
  show-actions="{{true}}"
  confirm-text="确定"
  bind:close="onClose"
  bind:confirm="onClose"
  bind:visiblechange="onVisibleChange"
>
  <view wx:if="{{records && records.length > 0}}" class="record-detail-content">
    <view wx:for="{{records}}" wx:key="_id" class="record-item">
      <view class="record-header">
        <text class="record-index">记录 {{index + 1}}</text>
        <t-tag theme="{{item.source === 'AI识别' ? 'primary' : 'success'}}" size="small" variant="light">
          {{item.source}}
        </t-tag>
      </view>

      <!-- 鹅苗价格 -->
      <view wx:if="{{item.goslingBreeds && item.goslingBreeds.length > 0}}" class="price-section">
        <view class="section-label">鹅苗价格（元/只）</view>
        <view class="price-grid">
          <view wx:for="{{item.goslingBreeds}}" wx:for-item="breed" wx:key="key" class="price-item">
            <text class="price-label">{{breed.label}}</text>
            <text class="price-value">¥{{breed.range}}</text>
          </view>
        </view>
      </view>

      <!-- 肉鹅价格 -->
      <view wx:if="{{item.meatBreeds && item.meatBreeds.length > 0}}" class="price-section">
        <view class="section-label">肉鹅价格（元/斤）</view>
        <view class="price-grid">
          <view wx:for="{{item.meatBreeds}}" wx:for-item="breed" wx:key="key" class="price-item">
            <text class="price-label">{{breed.label}}</text>
            <text class="price-value">¥{{breed.range}}</text>
          </view>
        </view>
      </view>

      <!-- 记录信息 -->
      <view class="record-footer">
        <text class="record-operator">操作员：{{item.operator}}</text>
        <text class="record-time">创建时间：{{item.createTime}}</text>
      </view>
    </view>
  </view>
</bottom-popup>

