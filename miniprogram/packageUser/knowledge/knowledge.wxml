<!--knowledge.wxml-->
<view class="page-container">
  <!-- 新式导航栏 -->
  <navigation-bar 
    title="养鹅知识库"
    show-back="true"
    show-menu="false"
    show-record="false"
    bind:back="goBack"
  />
  
  <!-- 内容区域 - 按照项目规范 -->
  <view class="content-wrapper">
  <!-- 搜索栏 -->
  <view class="search-section" wx:if="{{showSearchBar}}">
    <view class="search-container">
      <t-input placeholder="搜索养鹅知识..." 
               value="{{searchKeyword}}" 
               bind:change="onSearchInput"
               bind:enter="searchArticles"
               prefix-icon="search" />
    </view>
  </view>

    <!-- 分类导航 -->
    <view class="category-nav">
      <t-tabs value="{{activeCategory}}" bind:change="selectCategory" theme="line" class="knowledge-tabs">
        <t-tab-panel wx:for="{{categories}}" wx:key="id" value="{{item.id}}" label="{{item.name}}" />
      </t-tabs>
    </view>

    <!-- 滚动列表容器 - 按照项目规范 -->
    <scroll-view class="scroll-container" scroll-y>
    <!-- 文章列表 -->
      <view wx:if="{{filteredArticles.length > 0}}" class="article-list">
        <view wx:for="{{filteredArticles}}" 
              wx:key="id"
              class="article-item"
              bindtap="viewArticle"
              data-item="{{item}}">
          <view class="article-item-header">
            <text class="article-title">{{item.title}}</text>
          </view>
          <view class="article-item-footer">
            <text class="article-category category-{{item.categoryTheme || 'default'}}">{{item.categoryName || '未分类'}}</text>
            <text class="article-date">{{item.date}}</text>
          </view>
        </view>
      </view>

      <!-- 空状态提示 -->
      <view wx:else class="empty-state">
        <text class="empty-text">暂无文章</text>
        <text class="empty-desc">该分类下还没有文章，请稍后再来查看</text>
    </view>

      <!-- 底部安全区域占位 -->
      <view class="safe-area"></view>
  </scroll-view>
  </view>
</view>
