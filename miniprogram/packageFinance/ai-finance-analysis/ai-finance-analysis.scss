// ai-finance-analysis.scss - AI财务分析组件样式
.ai-finance-analysis {
  width: 100%;
  
  // 分析操作区域
  .analysis-controls {
    padding: 32rpx;
    
    // 自定义查询区域
    .custom-query-section {
      margin-bottom: 32rpx;
      background: #ffffff;
      border-radius: 16rpx;
      padding: 24rpx;
      box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.04);
      
      .query-input-wrapper {
        .query-textarea {
          margin-bottom: 0;
        }
      }
    }
    
    // 快速操作区域
    .quick-actions {
      .quick-analyze-btn {
        margin-bottom: 16rpx;
      }
      
      .quick-desc {
        display: block;
        font-size: 24rpx;
        color: #86909c;
        text-align: center;
        line-height: 1.5;
      }
    }
  }
  
  // 结果操作栏
  .result-actions {
    margin-bottom: 24rpx;
    display: flex;
    justify-content: flex-end;
    
    .clear-result-btn {
      min-width: 140rpx;
    }
  }
  
  // 修正分析区域
  .refinement-section {
    margin-top: 32rpx;
    padding: 32rpx;
    background: #ffffff;
    border-radius: 20rpx;
    box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.04);
    border: 2rpx solid rgba(0, 82, 217, 0.1);
    
    .refinement-header {
      margin-bottom: 20rpx;
      
      .refinement-title {
        display: block;
        font-size: 30rpx;
        font-weight: 600;
        color: #111827;
        margin-bottom: 8rpx;
      }
      
      .refinement-desc {
        display: block;
        font-size: 24rpx;
        color: #9ca3af;
        line-height: 1.5;
      }
    }
    
    .refinement-input {
      margin-bottom: 20rpx;
      
      .refinement-textarea {
        background: rgba(248, 250, 252, 0.6);
        border-radius: 12rpx;
      }
    }
    
    .refinement-actions {
      display: flex;
      gap: 24rpx;
      width: 100%;
      
      .restart-btn,
      .refine-btn {
        flex: 1;
        height: 88rpx;
        font-size: 30rpx;
        font-weight: 500;
        border-radius: 12rpx;
      }
      
      .restart-btn {
        border: 2rpx solid #0052d9;
        color: #0052d9;
      }
      
      .refine-btn {
        background: linear-gradient(135deg, #0052d9 0%, #0041a8 100%);
        box-shadow: 0 4rpx 12rpx rgba(0, 82, 217, 0.25);
      }
    }
  }
  
  // 加载状态
  .analysis-loading {
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 80rpx 40rpx;
    
    .loading-text {
      margin-top: 24rpx;
      font-size: 28rpx;
      color: #86909c;
    }
  }

  // 错误状态
  .analysis-error {
    padding: 40rpx;
    
    .error-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 60rpx 40rpx;
      background: #fff7e6;
      border-radius: 16rpx;
      border: 2rpx solid #ffd591;
      
      .error-text {
        margin-top: 24rpx;
        margin-bottom: 32rpx;
        font-size: 28rpx;
        color: #ed3737;
        text-align: center;
        line-height: 1.6;
      }
      
      .error-actions {
        display: flex;
        gap: 16rpx;
        width: 100%;
        justify-content: center;
        
        .clear-btn,
        .retry-btn {
          min-width: 120rpx;
        }
      }
    }
  }

  // 分析结果
  .analysis-result {
    .structured-result {
      .analysis-section {
        margin-bottom: 20rpx;
        border-radius: 20rpx;
        padding: 24rpx;
        box-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.04);
        transition: all 0.3s ease;
        
        // 盈利能力分析 - 绿色系（柔和）
        &.profitability-section {
          background: linear-gradient(135deg, #f5fbf9 0%, #ffffff 100%);
          border: 2rpx solid rgba(0, 168, 112, 0.12);
          
          .section-indicator.profitability-indicator {
            background: linear-gradient(135deg, #51cf66 0%, #2ba471 100%);
          }
        }
        
        // 成本结构分析 - 橙色系（柔和）
        &.cost-section {
          background: linear-gradient(135deg, #fffbf0 0%, #ffffff 100%);
          border: 2rpx solid rgba(255, 152, 0, 0.12);
          
          .section-indicator.cost-indicator {
            background: linear-gradient(135deg, #ffd666 0%, #f2a20c 100%);
          }
        }
        
        // 现金流分析 - 蓝色系（柔和）
        &.cashflow-section {
          background: linear-gradient(135deg, #f5fbff 0%, #ffffff 100%);
          border: 2rpx solid rgba(0, 82, 217, 0.12);
          
          .section-indicator.cashflow-indicator {
            background: linear-gradient(135deg, #6bb6ff 0%, #0052d9 100%);
          }
        }
        
        // 趋势分析 - 紫色系（柔和）
        &.trend-section {
          background: linear-gradient(135deg, #faf8ff 0%, #ffffff 100%);
          border: 2rpx solid rgba(123, 44, 191, 0.12);
          
          .section-indicator.trend-indicator {
            background: linear-gradient(135deg, #b197fc 0%, #7b2cbf 100%);
          }
        }
        
        // 风险评估 - 红色系（柔和）
        &.risk-section {
          background: linear-gradient(135deg, #fef5f5 0%, #ffffff 100%);
          border: 2rpx solid rgba(237, 55, 55, 0.12);
          
          .section-indicator.risk-indicator {
            background: linear-gradient(135deg, #ff8787 0%, #e34d59 100%);
          }
        }
        
        // 优化建议 - 青色系（柔和）
        &.suggestions-section {
          background: linear-gradient(135deg, #f0fdfa 0%, #ffffff 100%);
          border: 2rpx solid rgba(0, 188, 212, 0.12);
          
          .section-indicator.suggestions-indicator {
            background: linear-gradient(135deg, #4dd4ac 0%, #00bcd4 100%);
          }
        }
        
        .section-header {
          margin-bottom: 16rpx;
          padding-bottom: 0;
          
          .section-title-wrapper {
            display: flex;
            align-items: center;
            
            .section-indicator {
              width: 6rpx;
              height: 28rpx;
              border-radius: 3rpx;
              margin-right: 12rpx;
              flex-shrink: 0;
              opacity: 0.9;
            }
            
            .section-title {
              font-size: 30rpx;
              font-weight: 600;
              color: #111827;
              letter-spacing: 0.5rpx;
            }
          }
        }
        
        .section-content {
          .summary-text {
            font-size: 28rpx;
            color: #4b5563;
            line-height: 1.8;
            margin-bottom: 16rpx;
            padding: 16rpx 20rpx;
            background: rgba(248, 250, 252, 0.6);
            border-radius: 14rpx;
            box-shadow: inset 0 1rpx 3rpx rgba(0, 0, 0, 0.04);
          }
          
          .detail-item {
            margin-bottom: 12rpx;
            padding: 14rpx 18rpx;
            background: rgba(248, 250, 252, 0.4);
            border-radius: 12rpx;
            
            .detail-label {
              font-size: 26rpx;
              color: #9ca3af;
              font-weight: 500;
              margin-bottom: 6rpx;
              display: block;
            }
            
            .detail-value {
              font-size: 26rpx;
              color: #374151;
              line-height: 1.7;
              display: block;
            }
            
            // 最后一个detail-item不需要下边距
            &:last-child {
              margin-bottom: 0;
            }
          }
        }
        
        // 优化建议特殊样式
        &.suggestions-section {
          .suggestions-group {
            margin-top: 20rpx;
            
            .suggestions-group-title {
              display: block;
              font-size: 28rpx;
              font-weight: 600;
              color: #374151;
              margin-bottom: 12rpx;
              padding-left: 12rpx;
              position: relative;
              
              &::before {
                content: '';
                position: absolute;
                left: 0;
                top: 50%;
                transform: translateY(-50%);
                width: 4rpx;
                height: 20rpx;
                background: linear-gradient(135deg, #4dd4ac 0%, #00bcd4 100%);
                border-radius: 2rpx;
              }
            }
            
            .suggestions-list {
              .suggestion-item {
                display: flex;
                align-items: flex-start;
                padding: 12rpx 16rpx;
                margin-bottom: 10rpx;
                border-radius: 12rpx;
                background: rgba(248, 250, 252, 0.4);
                transition: background 0.2s ease;
                
                &:active {
                  background: rgba(248, 250, 252, 0.6);
                }
                
                .suggestion-index {
                  flex-shrink: 0;
                  width: 40rpx;
                  font-size: 26rpx;
                  font-weight: 600;
                  color: #9ca3af;
                  margin-right: 12rpx;
                }
                
                .suggestion-text {
                  flex: 1;
                  font-size: 26rpx;
                  color: #374151;
                  line-height: 1.7;
                }
                
                // 最后一个suggestion-item不需要下边距
                &:last-child {
                  margin-bottom: 0;
                }
              }
            }
          }
          
          // 最后一个建议section不需要下边距
          &:last-child {
            margin-bottom: 0;
          }
        }
      }
    }
    
    // 文本格式结果
    .text-result {
      padding: 32rpx;
      background: #ffffff;
      border-radius: 16rpx;
      
      .text-content {
        font-size: 28rpx;
        color: #1d2129;
        line-height: 1.8;
        white-space: pre-wrap;
        word-break: break-word;
      }
    }
  }
}

