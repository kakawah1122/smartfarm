<!--reimbursement-list.wxml - 我的报销列表-->
<view class="page-container">
  <!-- 自定义导航栏 -->
  <navigation-bar 
    title="我的报销"
    show-back="{{true}}"
    fallback-url="/pages/profile/profile"
    bind:back="goBack"
  />
  
  <!-- 内容区域 -->
  <view class="content-wrapper">
    <!-- 筛选标签 -->
    <view class="filter-tabs">
    <view 
      wx:for="{{statusTabs}}" 
      wx:key="value"
      class="tab-item {{currentStatus === item.value ? 'active' : ''}}"
      bind:tap="onStatusChange"
      data-status="{{item.value}}"
    >
      <text class="tab-label">{{item.label}}</text>
      <view wx:if="{{currentStatus === item.value}}" class="tab-indicator"></view>
    </view>
  </view>
  
  <!-- 报销列表 -->
  <scroll-view class="list-container" scroll-y>
    <view wx:if="{{list.length > 0}}" class="reimbursement-list">
      <view 
        wx:for="{{list}}" 
        wx:key="_id"
        class="reimbursement-item"
        bind:tap="onItemTap"
        data-id="{{item._id}}"
      >
        <!-- 头部：类型和状态 -->
        <view class="item-header">
          <text class="type-name">{{item.reimbursement.typeName}}</text>
          <view class="status-tag {{item.statusConfig.theme}}">
            {{item.statusConfig.text}}
          </view>
        </view>
        
        <!-- 内容：说明和金额 -->
        <view class="item-content">
          <text class="description">{{item.description}}</text>
          <text class="amount">¥{{item.amount}}</text>
        </view>
        
        <!-- 底部：日期和操作人 -->
        <view class="item-footer">
          <text class="date">{{item.date}}</text>
          <text class="operator">{{item.operator}}</text>
        </view>
      </view>
    </view>
    
    <!-- 空状态 -->
    <view wx:if="{{list.length === 0 && !loading}}" class="empty-state">
      <text class="empty-text">暂无报销记录</text>
    </view>
    
    <!-- 底部安全区域 -->
    <view class="safe-area"></view>
  </scroll-view>
  </view>
  
  <!-- 报销详情弹窗 -->
  <reimbursement-record-detail
    visible="{{showDetailDialog}}"
    record="{{selectedRecord}}"
    bind:close="closeDetailDialog"
  />
</view>

