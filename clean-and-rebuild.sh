#!/bin/bash

# å¾®ä¿¡å°ç¨‹åºæ¸…ç†å’Œé‡å»ºè„šæœ¬
# ç”¨äºŽè§£å†³ API å¼ƒç”¨è­¦å‘Šå’Œç¼“å­˜é—®é¢˜

echo "ðŸ§¹ å¼€å§‹æ¸…ç†å¾®ä¿¡å°ç¨‹åºé¡¹ç›®..."

# è¿›å…¥ miniprogram ç›®å½•
cd "$(dirname "$0")/miniprogram"

# 1. æ¸…ç† npm ç›¸å…³
echo "ðŸ“¦ æ¸…ç† npm åŒ…..."
rm -rf miniprogram_npm
rm -rf node_modules
rm -f package-lock.json

# 2. é‡æ–°å®‰è£…ä¾èµ–
echo "ðŸ“¥ é‡æ–°å®‰è£…ä¾èµ–..."
npm install

echo ""
echo "âœ… æ¸…ç†å®Œæˆï¼"
echo ""
echo "ðŸ“ æŽ¥ä¸‹æ¥è¯·åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­æ‰§è¡Œï¼š"
echo "   1. å·¥å…· -> æ¸…é™¤ç¼“å­˜ -> æ¸…é™¤å…¨éƒ¨ç¼“å­˜"
echo "   2. å·¥å…· -> æž„å»º npm"
echo "   3. ç‚¹å‡» 'ç¼–è¯‘' æŒ‰é’®"
echo ""

