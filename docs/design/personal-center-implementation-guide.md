# ä¸ªäººä¸­å¿ƒå®æ–½æŒ‡å—

## ğŸ“‹ å®æ–½æ¦‚è¿°

æœ¬æ–‡æ¡£æä¾›ä¸ªäººä¸­å¿ƒåŠŸèƒ½çš„å®Œæ•´å®æ–½æŒ‡å—ï¼ŒåŒ…æ‹¬å·²å®Œæˆçš„å·¥ä½œå’Œåç»­æ­¥éª¤ã€‚

---

## âœ… å·²å®Œæˆçš„å·¥ä½œ

### 1. è®¾è®¡é˜¶æ®µ

#### 1.1 åŸå‹å›¾è®¾è®¡
- âœ… åˆ›å»º `prototype.html` - å¯äº¤äº’çš„HTMLåŸå‹å›¾
- âœ… æ”¯æŒè§’è‰²åˆ‡æ¢æ¼”ç¤ºï¼ˆæ™®é€šå‘˜å·¥ vs ç®¡ç†å‘˜ï¼‰
- âœ… åº”ç”¨TDesignè®¾è®¡è§„èŒƒ
- âœ… ä¼˜åŒ–UIæ ·å¼å’Œäº¤äº’æ•ˆæœ

**é¢„è§ˆæ–¹å¼**ï¼šåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ `prototype.html`

#### 1.2 æ•°æ®åº“è®¾è®¡
- âœ… æ‰©å±• `finance_cost_records` é›†åˆå­—æ®µ
- âœ… è®¾è®¡æŠ¥é”€æ•°æ®ç»“æ„
- âœ… å®šä¹‰ç´¢å¼•ç­–ç•¥
- âœ… åˆ›å»ºæ•°æ®è¿ç§»è„šæœ¬

**ç›¸å…³æ–‡æ¡£**ï¼š
- `docs/design/reimbursement-database-design.md` - æ•°æ®åº“å­—æ®µè®¾è®¡
- `docs/database/reimbursement-index-setup.md` - ç´¢å¼•é…ç½®æŒ‡å—
- `scripts/setup-reimbursement-database.js` - æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬

#### 1.3 äº‘å‡½æ•°è®¾è®¡
- âœ… è®¾è®¡8ä¸ªæŠ¥é”€ç›¸å…³æ¥å£
- âœ… å®ç°æŠ¥é”€å¤„ç†é€»è¾‘æ¨¡å—
- âœ… æ‰©å±• `finance-management` äº‘å‡½æ•°

**ç›¸å…³æ–‡ä»¶**ï¼š
- `cloudfunctions/finance-management/reimbursement-handler.js` - æŠ¥é”€å¤„ç†æ¨¡å—
- `cloudfunctions/finance-management/index.js` - ä¸»äº‘å‡½æ•°ï¼ˆå·²æ‰©å±•ï¼‰
- `docs/design/finance-management-cloud-function.md` - äº‘å‡½æ•°APIæ–‡æ¡£

### 2. å‰ç«¯å¼€å‘

#### 2.1 é¡µé¢æ–‡ä»¶
- âœ… `miniprogram/pages/profile/profile.wxml` - é¡µé¢ç»“æ„
- âœ… `miniprogram/pages/profile/profile.scss` - é¡µé¢æ ·å¼
- âœ… `miniprogram/pages/profile/profile.ts` - é¡µé¢é€»è¾‘

#### 2.2 æ ¸å¿ƒåŠŸèƒ½
- âœ… ä¸ªäººä¿¡æ¯å±•ç¤ºå’Œç¼–è¾‘
- âœ… å…»æ®–åœºæ¦‚å†µå±•ç¤ºï¼ˆæ‰€æœ‰ç”¨æˆ·ï¼‰
- âœ… æŠ¥é”€ç”³è¯·åŠŸèƒ½ï¼ˆæ‰€æœ‰ç”¨æˆ·ï¼‰
- âœ… æŠ¥é”€è®°å½•åˆ—è¡¨ï¼ˆæ‰€æœ‰ç”¨æˆ·ï¼‰
- âœ… è´¢åŠ¡ç®¡ç†æ¨¡å—ï¼ˆä»…ç®¡ç†å‘˜ï¼‰
- âœ… æŠ¥é”€å®¡æ‰¹åŠŸèƒ½ï¼ˆä»…ç®¡ç†å‘˜ï¼‰
- âœ… ç®¡ç†åŠŸèƒ½å…¥å£ï¼ˆä»…ç®¡ç†å‘˜ï¼‰
- âœ… å¿«æ·åŠŸèƒ½å’Œç³»ç»Ÿè®¾ç½®

---

## ğŸ“ åç»­å®æ–½æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šæ•°æ®åº“å‡†å¤‡

#### 1.1 åˆ›å»ºæ•°æ®åº“ç´¢å¼•

åœ¨å¾®ä¿¡äº‘å¼€å‘æ§åˆ¶å°æ‰‹åŠ¨åˆ›å»ºç´¢å¼•ï¼š

```
æ•°æ®åº“ â†’ finance_cost_records â†’ ç´¢å¼•ç®¡ç† â†’ æ–°å»ºç´¢å¼•
```

åˆ›å»ºä»¥ä¸‹4ä¸ªç´¢å¼•ï¼š

1. **idx_user_reimbursement**
   - å­—æ®µï¼š`_openid: 1, isReimbursement: 1, createTime: -1`
   
2. **idx_pending_reimbursement**
   - å­—æ®µï¼š`isReimbursement: 1, reimbursement.status: 1, createTime: -1`
   
3. **idx_date_type**
   - å­—æ®µï¼š`date: 1, recordType: 1, isDeleted: 1`
   
4. **idx_user_status**
   - å­—æ®µï¼š`_openid: 1, reimbursement.status: 1, createTime: -1`

è¯¦ç»†è¯´æ˜è§ï¼š`docs/database/reimbursement-index-setup.md`

#### 1.2 æ•°æ®è¿ç§»

è¿è¡Œæ•°æ®è¿ç§»è„šæœ¬ï¼Œä¸ºç°æœ‰æ•°æ®æ·»åŠ æ–°å­—æ®µï¼š

```bash
cd scripts
node setup-reimbursement-database.js
```

æˆ–åœ¨äº‘å¼€å‘æ§åˆ¶å°è¿è¡Œã€‚

### ç¬¬äºŒæ­¥ï¼šéƒ¨ç½²äº‘å‡½æ•°

#### 2.1 ä¸Šä¼ äº‘å‡½æ•°æ–‡ä»¶

```bash
# å³é”®ç‚¹å‡» cloudfunctions/finance-management
# é€‰æ‹©"ä¸Šä¼ å¹¶éƒ¨ç½²ï¼šäº‘ç«¯å®‰è£…ä¾èµ–"
```

#### 2.2 éªŒè¯äº‘å‡½æ•°

åœ¨äº‘å¼€å‘æ§åˆ¶å°æµ‹è¯•äº‘å‡½æ•°ï¼š

```javascript
// æµ‹è¯•åˆ›å»ºæŠ¥é”€
{
  "action": "create_reimbursement",
  "data": {
    "amount": 100,
    "description": "æµ‹è¯•æŠ¥é”€",
    "date": "2024-03-15",
    "reimbursementType": "meal"
  }
}
```

### ç¬¬ä¸‰æ­¥ï¼šæ›¿æ¢å‰ç«¯é¡µé¢

#### 3.1 å¤‡ä»½ç°æœ‰æ–‡ä»¶

```bash
# å¤‡ä»½å½“å‰çš„profileé¡µé¢
mv miniprogram/pages/profile/profile.wxml miniprogram/pages/profile/profile.wxml.bak
mv miniprogram/pages/profile/profile.scss miniprogram/pages/profile/profile.scss.bak
mv miniprogram/pages/profile/profile.ts miniprogram/pages/profile/profile.ts.bak
```

#### 3.2 å¯ç”¨æ–°é¡µé¢

```bash
# é‡å‘½åæ–°æ–‡ä»¶ä¸ºæ­£å¼æ–‡ä»¶
# æ–‡ä»¶å·²ç»ä½¿ç”¨æ ‡å‡†å‘½åï¼Œæ— éœ€é‡å‘½å
```

### ç¬¬å››æ­¥ï¼šåˆ›å»ºæ‰©å±•é¡µé¢

åˆ›å»ºä»¥ä¸‹æ–°é¡µé¢ï¼ˆå¯é€‰ï¼Œå½“å‰ä¸ªäººä¸­å¿ƒå·²åŒ…å«åŸºç¡€åŠŸèƒ½ï¼‰ï¼š

#### 4.1 æŠ¥é”€è¯¦æƒ…é¡µ
```
miniprogram/packageFinance/reimbursement-detail/
  - reimbursement-detail.wxml
  - reimbursement-detail.scss
  - reimbursement-detail.ts
  - reimbursement-detail.json
```

#### 4.2 æŠ¥é”€åˆ—è¡¨é¡µ
```
miniprogram/packageFinance/reimbursement-list/
  - reimbursement-list.wxml
  - reimbursement-list.scss
  - reimbursement-list.ts
  - reimbursement-list.json
```

#### 4.3 æŠ¥é”€å®¡æ‰¹é¡µï¼ˆç®¡ç†å‘˜ï¼‰
```
miniprogram/packageFinance/reimbursement-approval/
  - reimbursement-approval.wxml
  - reimbursement-approval.scss
  - reimbursement-approval.ts
  - reimbursement-approval.json
```

#### 4.4 æ›´æ–° app.json

åœ¨ `miniprogram/app.json` ä¸­æ·»åŠ æ–°é¡µé¢è·¯ç”±ï¼š

```json
{
  "subpackages": [
    {
      "root": "packageFinance",
      "pages": [
        "finance/finance",
        "cost-analysis/cost-analysis",
        "performance-analysis/performance-analysis",
        "reimbursement-detail/reimbursement-detail",
        "reimbursement-list/reimbursement-list",
        "reimbursement-approval/reimbursement-approval"
      ]
    }
  ]
}
```

### ç¬¬äº”æ­¥ï¼šæµ‹è¯•

#### 5.1 åŠŸèƒ½æµ‹è¯•æ¸…å•

**æ™®é€šå‘˜å·¥æµ‹è¯•**ï¼š
- [ ] æŸ¥çœ‹ä¸ªäººä¿¡æ¯
- [ ] ç¼–è¾‘ä¸ªäººèµ„æ–™ï¼ˆæ˜µç§°ã€æ‰‹æœºå·ã€å…»æ®–åœºï¼‰
- [ ] æ›´æ¢å¤´åƒ
- [ ] æŸ¥çœ‹å…»æ®–åœºæ¦‚å†µ
- [ ] æŸ¥çœ‹æŠ¥é”€ç»Ÿè®¡ï¼ˆæœ¬æœˆã€ç´¯è®¡ï¼‰
- [ ] åˆ›å»ºæŠ¥é”€ç”³è¯·
- [ ] ä¸Šä¼ æŠ¥é”€å‡­è¯
- [ ] æŸ¥çœ‹æŠ¥é”€è®°å½•
- [ ] æŸ¥çœ‹æŠ¥é”€è¯¦æƒ…
- [ ] è®¿é—®å¿«æ·åŠŸèƒ½
- [ ] é€€å‡ºç™»å½•

**ç®¡ç†å‘˜æµ‹è¯•**ï¼š
- [ ] æ™®é€šå‘˜å·¥çš„æ‰€æœ‰åŠŸèƒ½
- [ ] æŸ¥çœ‹è´¢åŠ¡æ€»è§ˆï¼ˆæ”¶å…¥ã€æ”¯å‡ºï¼‰
- [ ] æŸ¥çœ‹å¾…å®¡æ‰¹æŠ¥é”€åˆ—è¡¨
- [ ] é€šè¿‡æŠ¥é”€ç”³è¯·
- [ ] æ‹’ç»æŠ¥é”€ç”³è¯·ï¼ˆéœ€å¡«å†™åŸå› ï¼‰
- [ ] è®¿é—®ç®¡ç†åŠŸèƒ½
- [ ] æŸ¥çœ‹æ‰€æœ‰è´¢åŠ¡æ•°æ®

#### 5.2 è¾¹ç•Œæƒ…å†µæµ‹è¯•

- [ ] æŠ¥é”€é‡‘é¢è¶…è¿‡è§’è‰²é™é¢
- [ ] æäº¤ç©ºè¡¨å•
- [ ] ç½‘ç»œå¼‚å¸¸æƒ…å†µ
- [ ] å¹¶å‘å®¡æ‰¹åŒä¸€æŠ¥é”€
- [ ] å¤§é‡æŠ¥é”€è®°å½•åŠ è½½

#### 5.3 æƒé™æµ‹è¯•

- [ ] å‘˜å·¥å°è¯•è®¿é—®ç®¡ç†å‘˜åŠŸèƒ½ï¼ˆåº”è¢«æ‹’ç»ï¼‰
- [ ] å‘˜å·¥å°è¯•æŸ¥çœ‹ä»–äººæŠ¥é”€ï¼ˆåº”è¢«æ‹’ç»ï¼‰
- [ ] å‘˜å·¥å°è¯•å®¡æ‰¹æŠ¥é”€ï¼ˆåº”è¢«æ‹’ç»ï¼‰

---

## ğŸ¨ UI/UXä¼˜åŒ–å»ºè®®

### å·²å®ç°çš„ä¼˜åŒ–

1. **è§†è§‰å±‚æ¬¡**
   - âœ… ä¸ªäººä¿¡æ¯å¡ç‰‡ä½¿ç”¨æ¸å˜èƒŒæ™¯ï¼Œè§†è§‰çªå‡º
   - âœ… æ•°æ®å¡ç‰‡ä½¿ç”¨ç»†è¾¹æ¡†å’Œé˜´å½±
   - âœ… ç»Ÿä¸€çš„åœ†è§’å’Œé—´è·

2. **äº¤äº’åé¦ˆ**
   - âœ… æŒ‰é’®hoveræ•ˆæœ
   - âœ… åŠ è½½çŠ¶æ€æç¤º
   - âœ… æ“ä½œç»“æœåé¦ˆ

3. **ä¿¡æ¯ç»„ç»‡**
   - âœ… æ¸…æ™°çš„æ¨¡å—åˆ†ç»„
   - âœ… åŸºäºè§’è‰²çš„å†…å®¹æ˜¾ç¤º
   - âœ… ç©ºçŠ¶æ€å ä½

### å»ºè®®å¢å¼ºçš„ä¼˜åŒ–

1. **åŠ è½½ä¼˜åŒ–**
   - æ·»åŠ éª¨æ¶å±
   - æ•°æ®ç¼“å­˜ç­–ç•¥
   - å›¾ç‰‡æ‡’åŠ è½½

2. **äº¤äº’ä¼˜åŒ–**
   - ä¸‹æ‹‰åˆ·æ–°
   - ä¸Šæ‹‰åŠ è½½æ›´å¤š
   - æ‰‹åŠ¿æ“ä½œ

3. **è§†è§‰ä¼˜åŒ–**
   - æ·»åŠ å¾®åŠ¨ç”»
   - ä¼˜åŒ–è¿‡æ¸¡æ•ˆæœ
   - æš—é»‘æ¨¡å¼é€‚é…

---

## ğŸ“Š æ•°æ®æµç¨‹å›¾

### æŠ¥é”€ç”³è¯·æµç¨‹

```
ç”¨æˆ·å¡«å†™è¡¨å•
    â†“
å‰ç«¯éªŒè¯æ•°æ®
    â†“
ä¸Šä¼ å‡­è¯åˆ°äº‘å­˜å‚¨
    â†“
è°ƒç”¨ create_reimbursement
    â†“
äº‘å‡½æ•°éªŒè¯æƒé™å’Œæ•°æ®
    â†“
å†™å…¥ finance_cost_records (status: pending)
    â†“
å‘é€é€šçŸ¥ç»™ç®¡ç†å‘˜
    â†“
è¿”å›æˆåŠŸ â†’ åˆ·æ–°é¡µé¢æ•°æ®
```

### æŠ¥é”€å®¡æ‰¹æµç¨‹

```
ç®¡ç†å‘˜æŸ¥çœ‹å¾…å®¡æ‰¹åˆ—è¡¨
    â†“
ç‚¹å‡»"é€šè¿‡"æˆ–"æ‹’ç»"
    â†“
è°ƒç”¨ approve/reject_reimbursement
    â†“
äº‘å‡½æ•°éªŒè¯ç®¡ç†å‘˜æƒé™
    â†“
æ›´æ–°æŠ¥é”€çŠ¶æ€
    â†“
è®°å½•å®¡æ‰¹ä¿¡æ¯
    â†“
å‘é€é€šçŸ¥ç»™ç”³è¯·äºº
    â†“
è¿”å›æˆåŠŸ â†’ åˆ·æ–°åˆ—è¡¨
```

---

## ğŸ”§ å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜1ï¼šæŠ¥é”€åˆ›å»ºå¤±è´¥

**å¯èƒ½åŸå› **ï¼š
- é‡‘é¢è¶…è¿‡è§’è‰²é™é¢
- å¿…å¡«å­—æ®µç¼ºå¤±
- äº‘å‡½æ•°æœªéƒ¨ç½²

**è§£å†³æ–¹æ³•**ï¼š
1. æ£€æŸ¥è¡¨å•éªŒè¯é€»è¾‘
2. æŸ¥çœ‹äº‘å‡½æ•°æ—¥å¿—
3. ç¡®è®¤äº‘å‡½æ•°å·²éƒ¨ç½²

### é—®é¢˜2ï¼šç®¡ç†å‘˜çœ‹ä¸åˆ°è´¢åŠ¡æ¨¡å—

**å¯èƒ½åŸå› **ï¼š
- ç”¨æˆ·è§’è‰²ä¸æ˜¯ manager æˆ– super_admin
- isAdmin çŠ¶æ€è®¡ç®—é”™è¯¯

**è§£å†³æ–¹æ³•**ï¼š
1. æ£€æŸ¥ `userInfo.role` çš„å€¼
2. ç¡®è®¤è§’è‰²åˆ¤æ–­é€»è¾‘ï¼š`['manager', 'super_admin'].includes(userInfo.role)`

### é—®é¢˜3ï¼šå…»æ®–åœºæ•°æ®æ˜¾ç¤ºä¸º0

**å¯èƒ½åŸå› **ï¼š
- production-dashboard äº‘å‡½æ•°è°ƒç”¨å¤±è´¥
- æ•°æ®è®¡ç®—é€»è¾‘é”™è¯¯
- æƒé™é—®é¢˜

**è§£å†³æ–¹æ³•**ï¼š
1. æ£€æŸ¥äº‘å‡½æ•°è°ƒç”¨æ˜¯å¦æˆåŠŸ
2. æŸ¥çœ‹äº‘å‡½æ•°æ—¥å¿—
3. éªŒè¯æ•°æ®åº“ä¸­æ˜¯å¦æœ‰ç”Ÿäº§æ•°æ®

---

## ğŸ“š APIè°ƒç”¨ç¤ºä¾‹

### å‰ç«¯è°ƒç”¨ç¤ºä¾‹

#### åˆ›å»ºæŠ¥é”€ç”³è¯·

```typescript
const result = await wx.cloud.callFunction({
  name: 'finance-management',
  data: {
    action: 'create_reimbursement',
    data: {
      amount: 280,
      description: 'å·®æ—…è´¹æŠ¥é”€',
      date: '2024-03-15',
      reimbursementType: 'travel',
      detail: 'é«˜é“å¾€è¿”è´¹ç”¨',
      vouchers: [
        {
          fileId: 'cloud://xxx.png',
          fileName: 'é«˜é“ç¥¨.png',
          fileType: 'image'
        }
      ]
    }
  }
})
```

#### è·å–æˆ‘çš„æŠ¥é”€è®°å½•

```typescript
const result = await wx.cloud.callFunction({
  name: 'finance-management',
  data: {
    action: 'get_my_reimbursements',
    status: 'all',  // pending|approved|rejected|all
    page: 1,
    pageSize: 10
  }
})
```

#### å®¡æ‰¹æŠ¥é”€ï¼ˆç®¡ç†å‘˜ï¼‰

```typescript
// é€šè¿‡
const result = await wx.cloud.callFunction({
  name: 'finance-management',
  data: {
    action: 'approve_reimbursement',
    reimbursementId: 'RMB1234567890',
    remark: 'åŒæ„æŠ¥é”€'
  }
})

// æ‹’ç»
const result = await wx.cloud.callFunction({
  name: 'finance-management',
  data: {
    action: 'reject_reimbursement',
    reimbursementId: 'RMB1234567890',
    reason: 'å‡­è¯ä¸å®Œæ•´ï¼Œè¯·è¡¥å……'
  }
})
```

---

## ğŸ¯ åŠŸèƒ½ç‰¹ç‚¹

### æ‰€æœ‰ç”¨æˆ·

1. **ä¸ªäººä¿¡æ¯ç®¡ç†**
   - æŸ¥çœ‹å’Œç¼–è¾‘ä¸ªäººèµ„æ–™
   - æ›´æ¢å¤´åƒ
   - æ˜¾ç¤ºå·¥é¾„å’ŒåŠ å…¥æ—¶é—´

2. **å…»æ®–åœºæ¦‚å†µ**
   - å½“å‰å­˜æ æ•°
   - å­˜æ´»ç‡
   - å¥åº·æ•°é‡
   - ä½åº“å­˜é¢„è­¦

3. **æŠ¥é”€åŠŸèƒ½**
   - æœ¬æœˆæŠ¥é”€ç»Ÿè®¡
   - ç´¯è®¡æŠ¥é”€ç»Ÿè®¡
   - æ–°å»ºæŠ¥é”€ç”³è¯·
   - æŠ¥é”€è®°å½•åˆ—è¡¨
   - æŠ¥é”€çŠ¶æ€æŸ¥è¯¢

4. **å¿«æ·åŠŸèƒ½**
   - è´¢åŠ¡ç®¡ç†å…¥å£
   - çŸ¥è¯†åº“å…¥å£
   - æ¶ˆæ¯é€šçŸ¥
   - å¸®åŠ©ä¸­å¿ƒ

### ç®¡ç†å‘˜ä¸“å±

1. **è´¢åŠ¡ç®¡ç†**
   - æœ¬æœˆæ”¶å…¥/æ”¯å‡ºç»Ÿè®¡
   - å¢é•¿ç‡å±•ç¤º
   - å¾…å®¡æ‰¹æŠ¥é”€åˆ—è¡¨
   - å¿«æ·å®¡æ‰¹æ“ä½œ

2. **ç®¡ç†åŠŸèƒ½**
   - ç”¨æˆ·ç®¡ç†
   - è§’è‰²æƒé™
   - æ•°æ®æŠ¥è¡¨
   - æŠ¥é”€å®¡æ‰¹
   - è´¢åŠ¡æŠ¥è¡¨
   - æˆæœ¬åˆ†æ
   - æ€§èƒ½åˆ†æ
   - æ•°æ®å¯¼å‡º

---

## ğŸ” æƒé™æ§åˆ¶

### å‰ç«¯æƒé™åˆ¤æ–­

```typescript
// åˆ¤æ–­æ˜¯å¦æ˜¯ç®¡ç†å‘˜
const isAdmin = ['manager', 'super_admin'].includes(userInfo.role)

// ä½¿ç”¨ wx:if æ§åˆ¶æ˜¾ç¤º
<view wx:if="{{isAdmin}}" class="admin-only">
  <!-- ç®¡ç†å‘˜ä¸“å±å†…å®¹ -->
</view>
```

### äº‘å‡½æ•°æƒé™éªŒè¯

```javascript
// åœ¨äº‘å‡½æ•°ä¸­éªŒè¯
const userInfo = await getUserInfo(db, wxContext.OPENID)
if (!['manager', 'super_admin'].includes(userInfo.role)) {
  throw new Error('æ— æƒé™è®¿é—®')
}
```

---

## ğŸš€ éƒ¨ç½²æ¸…å•

### éƒ¨ç½²å‰æ£€æŸ¥

- [ ] æ•°æ®åº“ç´¢å¼•å·²åˆ›å»º
- [ ] äº‘å‡½æ•°å·²ä¸Šä¼ å¹¶éƒ¨ç½²
- [ ] å‰ç«¯é¡µé¢å·²æ›¿æ¢
- [ ] app.json è·¯ç”±å·²æ›´æ–°
- [ ] åŠŸèƒ½æµ‹è¯•é€šè¿‡
- [ ] æƒé™æµ‹è¯•é€šè¿‡

### éƒ¨ç½²æ­¥éª¤

1. **æ•°æ®åº“å‡†å¤‡**
   ```
   âœ“ åˆ›å»º4ä¸ªç´¢å¼•
   âœ“ è¿è¡Œæ•°æ®è¿ç§»è„šæœ¬
   âœ“ éªŒè¯æ•°æ®å®Œæ•´æ€§
   ```

2. **äº‘å‡½æ•°éƒ¨ç½²**
   ```
   âœ“ ä¸Šä¼  finance-management äº‘å‡½æ•°
   âœ“ æµ‹è¯•æ–°å¢æ¥å£
   âœ“ æ£€æŸ¥äº‘å‡½æ•°æ—¥å¿—
   ```

3. **å‰ç«¯éƒ¨ç½²**
   ```
   âœ“ å¤‡ä»½ç°æœ‰æ–‡ä»¶
   âœ“ æ›¿æ¢æ–°æ–‡ä»¶
   âœ“ ç¼–è¯‘å°ç¨‹åº
   âœ“ çœŸæœºæµ‹è¯•
   ```

4. **ä¸Šçº¿å‘å¸ƒ**
   ```
   âœ“ æäº¤å®¡æ ¸
   âœ“ å‘å¸ƒç‰ˆæœ¬
   âœ“ ç›‘æ§æ—¥å¿—
   ```

---

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

### ç›®æ ‡æ€§èƒ½

| æŒ‡æ ‡ | ç›®æ ‡å€¼ | è¯´æ˜ |
|------|--------|------|
| é¡µé¢åŠ è½½æ—¶é—´ | < 2ç§’ | é¦–å±å®Œæ•´åŠ è½½ |
| æŠ¥é”€åˆ—è¡¨æ»šåŠ¨ | 60fps | æµç•…æ»šåŠ¨ |
| å®¡æ‰¹æ“ä½œå“åº” | < 1ç§’ | ç‚¹å‡»åˆ°ç»“æœåé¦ˆ |
| å›¾ç‰‡ä¸Šä¼ æ—¶é—´ | < 3ç§’ | å•å¼ å‡­è¯å›¾ç‰‡ |

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **æ•°æ®åŠ è½½ä¼˜åŒ–**
   - ä½¿ç”¨Promise.allå¹¶è¡ŒåŠ è½½
   - éå…³é”®æ•°æ®å»¶è¿ŸåŠ è½½
   - å®ç°æ•°æ®ç¼“å­˜

2. **æ¸²æŸ“ä¼˜åŒ–**
   - åˆ—è¡¨é¡¹ä½¿ç”¨è™šæ‹Ÿæ»šåŠ¨
   - å›¾ç‰‡ä½¿ç”¨æ‡’åŠ è½½
   - å‡å°‘setDataé¢‘ç‡

3. **ç½‘ç»œä¼˜åŒ–**
   - åˆå¹¶äº‘å‡½æ•°è°ƒç”¨
   - å‹ç¼©ä¸Šä¼ å›¾ç‰‡
   - ä½¿ç”¨CDNåŠ é€Ÿ

---

## ğŸ¨ è®¾è®¡è§„èŒƒ

### é¢œè‰²è§„èŒƒ

```scss
// ä¸»è‰²
$primary: #0052d9;
$primary-light: #0066ff;

// åŠŸèƒ½è‰²
$success: #00a870;
$warning: #ed7b2f;
$danger: #e34d59;

// ä¸­æ€§è‰²
$text-primary: #333;
$text-secondary: #666;
$text-tertiary: #999;
$border: #f0f0f0;
$bg: #f5f5f5;
```

### å°ºå¯¸è§„èŒƒ

```scss
// åœ†è§’
$radius-small: 12rpx;
$radius-medium: 16rpx;
$radius-large: 24rpx;

// é—´è·
$spacing-small: 16rpx;
$spacing-medium: 24rpx;
$spacing-large: 32rpx;
$spacing-xlarge: 48rpx;

// å­—å·
$font-small: 24rpx;
$font-medium: 28rpx;
$font-large: 32rpx;
$font-xlarge: 40rpx;
```

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### ç›¸å…³æ–‡æ¡£

1. **è®¾è®¡æ–‡æ¡£**
   - `docs/design/reimbursement-database-design.md`
   - `docs/design/finance-management-cloud-function.md`

2. **æ•°æ®åº“æ–‡æ¡£**
   - `docs/database/reimbursement-index-setup.md`

3. **åŸå‹æ–‡ä»¶**
   - `prototype.html`

### è”ç³»æ–¹å¼

å¦‚é‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. æŸ¥çœ‹äº‘å‡½æ•°æ—¥å¿—
2. æ£€æŸ¥æ•°æ®åº“æ•°æ®
3. å‚è€ƒç›¸å…³æ–‡æ¡£
4. è”ç³»æŠ€æœ¯å›¢é˜Ÿ

---

## ğŸ“ ç‰ˆæœ¬å†å²

| ç‰ˆæœ¬ | æ—¥æœŸ | ä¿®æ”¹å†…å®¹ | çŠ¶æ€ |
|------|------|---------|------|
| v1.0 | 2024-11-05 | åˆå§‹å®æ–½æ–¹æ¡ˆ | âœ… å®Œæˆ |

---

**æœ€åæ›´æ–°**ï¼š2024-11-05  
**ç»´æŠ¤äººå‘˜**ï¼šå¼€å‘å›¢é˜Ÿ

