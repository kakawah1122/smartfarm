# å¥åº·ç®¡ç†æ ·å¼å˜é‡ä½¿ç”¨æŒ‡å—

**åˆ›å»ºæ—¥æœŸ**ï¼š2025-01-18  
**æ–‡ä»¶ä½ç½®**ï¼š`/miniprogram/styles/health-vars.scss`  
**é€‚ç”¨èŒƒå›´**ï¼šå¥åº·ç®¡ç†æ¨¡å—æ‰€æœ‰é¡µé¢

---

## ä¸€ã€æ¦‚è¿°

### 1.1 ä»€ä¹ˆæ˜¯æ ·å¼å˜é‡ï¼Ÿ

æ ·å¼å˜é‡æ˜¯SCSSæä¾›çš„ä¸€ç§åŠŸèƒ½ï¼Œå…è®¸æˆ‘ä»¬å®šä¹‰å¯é‡ç”¨çš„æ ·å¼å€¼ã€‚é€šè¿‡ä½¿ç”¨å˜é‡ï¼Œæˆ‘ä»¬å¯ä»¥ï¼š

- âœ… ç»Ÿä¸€æ ·å¼è§„èŒƒ
- âœ… æ–¹ä¾¿æ‰¹é‡ä¿®æ”¹
- âœ… æé«˜ä»£ç å¯è¯»æ€§
- âœ… å‡å°‘ç¡¬ç¼–ç 

### 1.2 ä¸ºä»€ä¹ˆä¸ç›´æ¥åº”ç”¨é€šç”¨æ ·å¼ï¼Ÿ

æ ¹æ®ã€Šå¥åº·ç®¡ç†æ¨¡å—æ ·å¼åˆ†ææŠ¥å‘Šã€‹çš„ç»“è®ºï¼š

âŒ **ä¸é€‚åˆ**ç›´æ¥åº”ç”¨é€šç”¨æ ·å¼çš„åŸå› ï¼š
1. å¥åº·ç®¡ç†æœ‰æ‰¹æ¬¡åˆ†ç»„ç»“æ„
2. æœ‰å¤æ‚çš„æ²»ç–—ä¿¡æ¯å¸ƒå±€
3. åº•éƒ¨ç»“æ„ä¸åŒï¼ˆçŠ¶æ€æ ‡ç­¾ vs æ“ä½œå‘˜ï¼‰
4. é£é™©å¤§äºæ”¶ç›Š

âœ… **é€‚åˆ**ä½¿ç”¨æ ·å¼å˜é‡çš„åŸå› ï¼š
1. é›¶é£é™©ï¼Œä¸æ”¹å˜DOMç»“æ„
2. ç»Ÿä¸€æ ·å¼é£æ ¼
3. æ˜“äºç»´æŠ¤
4. é€æ­¥ä¼˜åŒ–

---

## äºŒã€å¿«é€Ÿå¼€å§‹

### 2.1 å¼•å…¥æ ·å¼å˜é‡æ–‡ä»¶

åœ¨ä½ çš„ SCSS æ–‡ä»¶é¡¶éƒ¨å¼•å…¥ï¼š

```scss
// ä¾‹å¦‚ï¼šmedication-records-list.scss
@import "../../styles/health-vars.scss";

page {
  background-color: var(--td-bg-color-page, #f5f5f5);
}

// å¼€å§‹ä½¿ç”¨å˜é‡...
```

### 2.2 ä½¿ç”¨å˜é‡æ›¿æ¢ç¡¬ç¼–ç 

**ä¼˜åŒ–å‰**ï¼ˆç¡¬ç¼–ç ï¼‰ï¼š
```scss
.info-label {
  font-size: 26rpx;
  color: #999;
  line-height: 1.6;
}

.info-value {
  font-size: 28rpx;
  color: #333;
  font-weight: 500;
}
```

**ä¼˜åŒ–å**ï¼ˆä½¿ç”¨å˜é‡ï¼‰ï¼š
```scss
.info-label {
  font-size: $health-label-size;
  color: $health-label-color;
  line-height: $health-label-line-height;
}

.info-value {
  font-size: $health-value-size;
  color: $health-value-color;
  font-weight: $health-value-weight;
}
```

---

## ä¸‰ã€å˜é‡åˆ†ç±»å’Œä½¿ç”¨

### 3.1 å­—ä½“å¤§å°å˜é‡

| å˜é‡å | å€¼ | ç”¨é€” | ç¤ºä¾‹ |
|--------|---|------|------|
| `$health-title-size` | 32rpx | è®°å½•æ ‡é¢˜ | è®°å½•å¡ç‰‡æ ‡é¢˜ |
| `$health-subtitle-size` | 28rpx | å‰¯æ ‡é¢˜ | æ‰¹æ¬¡å·ã€ç¼–å· |
| `$health-label-size` | 26rpx | ä¿¡æ¯æ ‡ç­¾ | "æ‰¹æ¬¡ï¼š"ã€"æˆæœ¬ï¼š" |
| `$health-value-size` | 28rpx | ä¿¡æ¯å€¼ | æ‰¹æ¬¡å·å€¼ã€æˆæœ¬å€¼ |
| `$health-date-size` | 26rpx | æ—¥æœŸæ–‡æœ¬ | "2025-01-18" |
| `$health-number-size` | 30rpx | æ•°é‡ã€ç¼–å· | å—å½±å“æ•°é‡ |

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```scss
.record-name {
  font-size: $health-title-size;
  font-weight: $health-title-weight;
}

.treatment-number {
  font-size: $health-number-size;
  font-weight: $health-number-weight;
}
```

### 3.2 é¢œè‰²å˜é‡

#### åŸºç¡€æ–‡æœ¬é¢œè‰²

| å˜é‡å | å€¼ | ç”¨é€” |
|--------|---|------|
| `$health-text-primary` | #333 | ä¸»è¦æ–‡æœ¬ |
| `$health-text-secondary` | #666 | æ¬¡è¦æ–‡æœ¬ |
| `$health-text-placeholder` | #999 | å ä½ç¬¦ã€æ ‡ç­¾ |
| `$health-label-color` | #999 | ä¿¡æ¯æ ‡ç­¾é¢œè‰² |
| `$health-value-color` | #333 | ä¿¡æ¯å€¼é¢œè‰² |

#### è¯­ä¹‰åŒ–é¢œè‰²

| å˜é‡å | å€¼ | ç”¨é€” | ç¤ºä¾‹ |
|--------|---|------|------|
| `$health-success-color` | #00c853 | æˆåŠŸã€æ²»æ„ˆ | å·²æ²»æ„ˆæ•°é‡ |
| `$health-warning-color` | #ff9800 | è­¦å‘Šã€è§‚å¯Ÿ | å¾…å¤„ç† |
| `$health-danger-color` | #ff5252 | å±é™©ã€æ­»äº¡ | æ­»äº¡æ•°é‡ |
| `$health-info-color` | #2196f3 | ä¿¡æ¯æç¤º | æ²»ç–—ä¸­ |
| `$health-primary-color` | #0052d9 | ä¸»é¢˜è‰² | æ‰¹æ¬¡æ ‡é¢˜ |

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```scss
.success-text {
  color: $health-success-color;
}

.danger-text {
  color: $health-danger-color;
}

.cost-value {
  color: $health-cost-color;  // ä½¿ç”¨é¢„å®šä¹‰çš„æˆæœ¬é¢œè‰²
  font-weight: $health-cost-weight;
}
```

### 3.3 é—´è·å˜é‡

| å˜é‡å | å€¼ | ç”¨é€” |
|--------|---|------|
| `$health-card-padding` | 24rpx | å¡ç‰‡å†…è¾¹è· |
| `$health-card-margin` | 16rpx | å¡ç‰‡å¤–è¾¹è· |
| `$health-content-gap` | 8rpx | å†…å®¹é—´éš™ |
| `$health-row-gap` | 12rpx | è¡Œé—´éš™ |
| `$health-footer-margin-top` | 16rpx | åº•éƒ¨ä¸Šè¾¹è· |

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```scss
.record-card {
  padding: $health-card-padding;
  margin-bottom: $health-card-margin;
}

.record-content {
  display: flex;
  flex-direction: column;
  gap: $health-content-gap;
}
```

### 3.4 åœ†è§’å’Œé˜´å½±

| å˜é‡å | å€¼ | ç”¨é€” |
|--------|---|------|
| `$health-card-radius` | 16rpx | å¡ç‰‡åœ†è§’ |
| `$health-tag-radius` | 8rpx | æ ‡ç­¾åœ†è§’ |
| `$health-card-shadow` | ... | å¡ç‰‡é˜´å½± |

**ä½¿ç”¨ç¤ºä¾‹**ï¼š
```scss
.record-card {
  border-radius: $health-card-radius;
  box-shadow: $health-card-shadow;
}
```

---

## å››ã€ä½¿ç”¨ Mixinï¼ˆå¯é€‰ï¼‰

### 4.1 ä»€ä¹ˆæ˜¯ Mixinï¼Ÿ

Mixin æ˜¯é¢„å®šä¹‰çš„æ ·å¼ç»„åˆï¼Œå¯ä»¥ä¸€æ¬¡æ€§åº”ç”¨å¤šä¸ªæ ·å¼å±æ€§ã€‚

### 4.2 å¯ç”¨çš„ Mixin

#### `@include health-card-base`
åº”ç”¨å¡ç‰‡åŸºç¡€æ ·å¼ï¼ˆèƒŒæ™¯ã€åœ†è§’ã€é˜´å½±ã€è¾¹æ¡†ï¼‰

```scss
.record-card {
  @include health-card-base;
  // å¯ä»¥ç»§ç»­æ·»åŠ å…¶ä»–æ ·å¼
}
```

#### `@include health-info-label`
åº”ç”¨ä¿¡æ¯æ ‡ç­¾æ ·å¼

```scss
.info-label {
  @include health-info-label;
  margin-right: 8rpx;  // æ·»åŠ é¢å¤–æ ·å¼
}
```

#### `@include health-info-value`
åº”ç”¨ä¿¡æ¯å€¼æ ·å¼

```scss
.info-value {
  @include health-info-value;
}
```

#### è¯­ä¹‰åŒ– Mixin

```scss
.success-text {
  @include health-success-text;  // æˆåŠŸæ–‡æœ¬
}

.danger-text {
  @include health-danger-text;   // å±é™©æ–‡æœ¬
}

.warning-text {
  @include health-warning-text;  // è­¦å‘Šæ–‡æœ¬
}
```

---

## äº”ã€å®é™…åº”ç”¨ç¤ºä¾‹

### 5.1 medication-records-list ä¼˜åŒ–ç¤ºä¾‹

**ä¼˜åŒ–å‰**ï¼š
```scss
// medication-records-list.scss

.record-card {
  background: white;
  border-radius: 16rpx;
  padding: 24rpx;
  box-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.04);
  border: 1rpx solid #f0f0f0;
}

.info-label {
  font-size: 26rpx;
  color: #999;
  line-height: 1.6;
}

.info-value {
  font-size: 28rpx;
  color: #333;
  font-weight: 500;
}

.cost-value {
  color: #ff5252;
  font-weight: 600;
}
```

**ä¼˜åŒ–å**ï¼š
```scss
// medication-records-list.scss
@import "../../styles/health-vars.scss";

.record-card {
  @include health-card-base;  // ä½¿ç”¨ mixinï¼Œä¸€è¡Œæå®š
}

.info-label {
  @include health-info-label;
}

.info-value {
  @include health-info-value;
}

.cost-value {
  color: $health-cost-color;
  font-weight: $health-cost-weight;
}
```

**ä¼˜åŠ¿**ï¼š
- âœ… ä»£ç æ›´ç®€æ´
- âœ… æ ·å¼ç»Ÿä¸€
- âœ… æ˜“äºç»´æŠ¤

### 5.2 treatment-records-list ä¼˜åŒ–ç¤ºä¾‹

**ä¼˜åŒ–å‰**ï¼š
```scss
.success-text {
  color: #00c853;
  font-weight: 500;
}

.danger-text {
  color: #ff5252;
  font-weight: 500;
}

.treatment-number {
  font-size: 30rpx;
  font-weight: 600;
}
```

**ä¼˜åŒ–å**ï¼š
```scss
@import "../../styles/health-vars.scss";

.success-text {
  @include health-success-text;
}

.danger-text {
  @include health-danger-text;
}

.treatment-number {
  font-size: $health-number-size;
  font-weight: $health-number-weight;
}
```

---

## å…­ã€æœ€ä½³å®è·µ

### 6.1 âœ… æ¨èåšæ³•

1. **ä¼˜å…ˆä½¿ç”¨å˜é‡**
   ```scss
   // âœ… æ¨è
   color: $health-label-color;
   
   // âŒ ä¸æ¨è
   color: #999;
   ```

2. **ä½¿ç”¨ Mixin ç®€åŒ–ä»£ç **
   ```scss
   // âœ… æ¨èï¼ˆç®€æ´ï¼‰
   .info-label {
     @include health-info-label;
   }
   
   // âš ï¸ ä¹Ÿå¯ä»¥ï¼ˆè¯¦ç»†ï¼‰
   .info-label {
     font-size: $health-label-size;
     color: $health-label-color;
     line-height: $health-label-line-height;
   }
   ```

3. **ä¿ç•™ç‰¹å®šæ ·å¼**
   ```scss
   // âœ… æ­£ç¡®ï¼šä½¿ç”¨å˜é‡ + ä¿ç•™ç‰¹å®šæ ·å¼
   .batch-group-header {
     background: $health-batch-bg;
     color: $health-batch-color;
     border-bottom: 1rpx solid $health-border-primary;
     // ä¿ç•™æ‰¹æ¬¡åˆ†ç»„ç‰¹å®šçš„å¸ƒå±€
     display: flex;
     justify-content: space-between;
   }
   ```

### 6.2 âŒ é¿å…çš„åšæ³•

1. **ä¸è¦ä¿®æ”¹DOMç»“æ„**
   ```scss
   // âŒ ä¸è¦ä¸ºäº†ä½¿ç”¨å˜é‡è€Œæ”¹å˜ HTML ç»“æ„
   // ä¿æŒåŸæœ‰çš„ batch-groupã€treatment-plan-row ç­‰ç»“æ„
   ```

2. **ä¸è¦å¼ºåˆ¶ç»Ÿä¸€**
   ```scss
   // âŒ ä¸è¦ç§»é™¤ç‰¹å®šçš„æ ·å¼ç±»
   // å¦‚ï¼š.batch-group-headerã€.medication-row ç­‰
   // è¿™äº›æ˜¯ä¸šåŠ¡ç‰¹å®šçš„ï¼Œåº”è¯¥ä¿ç•™
   ```

3. **ä¸è¦è¿‡åº¦ä¼˜åŒ–**
   ```scss
   // âŒ ä¸è¦æŠŠæ‰€æœ‰æ ·å¼éƒ½æ”¹æˆå˜é‡
   // æœ‰äº›ä¸€æ¬¡æ€§çš„æ ·å¼å€¼å¯ä»¥ä¿æŒç¡¬ç¼–ç 
   ```

---

## ä¸ƒã€è¿ç§»æ­¥éª¤

### 7.1 æ¸è¿›å¼è¿ç§»ï¼ˆæ¨èï¼‰

**æ­¥éª¤1ï¼šå¼•å…¥å˜é‡æ–‡ä»¶**
```scss
@import "../../styles/health-vars.scss";
```

**æ­¥éª¤2ï¼šæ›¿æ¢å¸¸ç”¨æ ·å¼**
ä¼˜å…ˆæ›¿æ¢ï¼šå­—ä½“å¤§å°ã€é¢œè‰²ã€é—´è·

**æ­¥éª¤3ï¼šæµ‹è¯•éªŒè¯**
ç¡®ä¿UIæ˜¾ç¤ºæ­£å¸¸

**æ­¥éª¤4ï¼šé€æ­¥æ‰©å±•**
ç»§ç»­ä¼˜åŒ–å…¶ä»–æ ·å¼

### 7.2 è¿ç§»ä¼˜å…ˆçº§

| ä¼˜å…ˆçº§ | æ ·å¼ç±»å‹ | åŸå›  |
|--------|---------|------|
| ğŸ”´ é«˜ | å­—ä½“å¤§å°ã€é¢œè‰² | æœ€å¸¸ç”¨ï¼Œæ”¶ç›Šæœ€å¤§ |
| ğŸŸ¡ ä¸­ | é—´è·ã€åœ†è§’ | è¾ƒå¸¸ç”¨ |
| ğŸŸ¢ ä½ | ç‰¹æ®Šæ•ˆæœ | ä½¿ç”¨è¾ƒå°‘ |

---

## å…«ã€FAQ

### Q1ï¼šæˆ‘å¿…é¡»ä½¿ç”¨æ‰€æœ‰å˜é‡å—ï¼Ÿ
**A**ï¼šä¸éœ€è¦ã€‚å¯ä»¥é€‰æ‹©æ€§ä½¿ç”¨ï¼Œä¼˜å…ˆä½¿ç”¨é«˜é¢‘æ ·å¼å˜é‡ã€‚

### Q2ï¼šä½¿ç”¨å˜é‡ä¼šå½±å“æ€§èƒ½å—ï¼Ÿ
**A**ï¼šä¸ä¼šã€‚SCSS å˜é‡åœ¨ç¼–è¯‘æ—¶ä¼šè¢«æ›¿æ¢ä¸ºå®é™…å€¼ï¼Œå¯¹è¿è¡Œæ—¶æ€§èƒ½æ— å½±å“ã€‚

### Q3ï¼šå¦‚æœå˜é‡å€¼ä¸åˆé€‚æ€ä¹ˆåŠï¼Ÿ
**A**ï¼šå¯ä»¥åœ¨å¼•å…¥å˜é‡æ–‡ä»¶åè¦†ç›–ï¼š
```scss
@import "../../styles/health-vars.scss";

// è¦†ç›–å˜é‡ï¼ˆåœ¨ä½¿ç”¨å‰ï¼‰
$health-label-size: 24rpx !default;
```

### Q4ï¼šéœ€è¦ä¿®æ”¹ WXML æ–‡ä»¶å—ï¼Ÿ
**A**ï¼š**ä¸éœ€è¦**ï¼åªä¿®æ”¹ SCSS æ–‡ä»¶ï¼Œä¸æ”¹å˜ HTML ç»“æ„ã€‚

### Q5ï¼šç°æœ‰åŠŸèƒ½ä¼šå—å½±å“å—ï¼Ÿ
**A**ï¼š**ä¸ä¼š**ï¼æ ·å¼å˜é‡åªæ˜¯æ›¿æ¢ç¡¬ç¼–ç çš„å€¼ï¼Œä¸æ”¹å˜å¸ƒå±€å’ŒåŠŸèƒ½ã€‚

---

## ä¹ã€æ€»ç»“

### 9.1 æ ¸å¿ƒä¼˜åŠ¿

| ç‰¹æ€§ | ä¼˜åŠ¿ | é£é™© |
|-----|------|------|
| ç»Ÿä¸€æ ·å¼ | âœ… é«˜ | âœ… æ—  |
| æ˜“äºç»´æŠ¤ | âœ… é«˜ | âœ… æ—  |
| ä»£ç ç®€æ´ | âœ… ä¸­ | âœ… æ—  |
| åŠŸèƒ½å½±å“ | âœ… æ—  | âœ… æ—  |

### 9.2 é€‚ç”¨åœºæ™¯

âœ… **é€‚åˆ**ä½¿ç”¨æ ·å¼å˜é‡çš„åœºæ™¯ï¼š
- å­—ä½“å¤§å°ç»Ÿä¸€
- é¢œè‰²è§„èŒƒç»Ÿä¸€
- é—´è·æ ‡å‡†ç»Ÿä¸€
- åœ†è§’ã€é˜´å½±ç­‰ç»†èŠ‚ç»Ÿä¸€

âŒ **ä¸é€‚åˆ**å¼ºåˆ¶ç»Ÿä¸€çš„åœºæ™¯ï¼š
- ç‰¹æ®Šçš„å¸ƒå±€ç»“æ„ï¼ˆå¦‚æ‰¹æ¬¡åˆ†ç»„ï¼‰
- ä¸šåŠ¡ç‰¹å®šçš„æ ·å¼ç±»
- å¤æ‚çš„äº¤äº’æ•ˆæœ

### 9.3 æœ€ç»ˆå»ºè®®

1. **é€æ­¥ä¼˜åŒ–** - ä¸è¦ä¸€æ¬¡æ€§å…¨éƒ¨ä¿®æ”¹
2. **ä¿æŒç»“æ„** - ä¸æ”¹å˜ DOM ç»“æ„
3. **å……åˆ†æµ‹è¯•** - æ¯æ¬¡ä¿®æ”¹åéƒ½è¦æµ‹è¯•
4. **æ–‡æ¡£è®°å½•** - è®°å½•ä¼˜åŒ–è¿‡ç¨‹å’Œæ•ˆæœ

---

## é™„å½•

### A. å®Œæ•´å˜é‡æ¸…å•

è¯¦è§ `/miniprogram/styles/health-vars.scss` æ–‡ä»¶

### B. å‚è€ƒç¤ºä¾‹

- ç”Ÿäº§ç®¡ç†æ¨¡å—çš„é€šç”¨æ ·å¼ï¼š`/miniprogram/styles/record-common.scss`
- ä¼˜åŒ–æŠ¥å‘Šï¼š`/docs/ç”Ÿäº§ç®¡ç†è®°å½•åˆ—è¡¨ä¼˜åŒ–æŠ¥å‘Š.md`

### C. ç›¸å…³æ–‡æ¡£

- [å¥åº·ç®¡ç†æ¨¡å—æ ·å¼åˆ†ææŠ¥å‘Š](/docs/å¥åº·ç®¡ç†æ¨¡å—æ ·å¼åˆ†ææŠ¥å‘Š.md)
- [é¡¹ç›®å¼€å‘è§„èŒƒ](/.windsurf/rules/PROJECT_RULES.md)

---

**æ–‡æ¡£ç¼–å†™**ï¼šCascade AI  
**å®¡æ ¸çŠ¶æ€**ï¼šå¾…å®¡æ ¸  
**ç‰ˆæœ¬**ï¼šv1.0  
**æœ€åæ›´æ–°**ï¼š2025-01-18
