# 🚨 立即配置超时 - 截图指引

## 🎯 当前状态

- ✅ 代码已修改
- ✅ 云函数已上传
- ❌ **超时时间未配置** ← 这是问题所在！

---

## ⚡ 立即操作（5分钟）

### 第1步：打开云开发控制台

**您现在在微信开发者工具中，请这样操作**：

```
看顶部菜单栏
→ 找到 "云开发" 按钮
→ 点击它
→ 会出现下拉菜单
→ 点击 "云开发控制台"
→ 浏览器会打开控制台页面
```

**或者直接在浏览器打开**：
```
https://console.cloud.tencent.com/tcb
→ 登录（用小程序账号）
→ 选择您的环境（cloud1-3gdruqkn67e1cbe2）
```

---

### 第2步：进入云函数配置

**在控制台页面**：

```
1. 左侧菜单栏
   ├── 数据库
   ├── 存储
   ├── 云函数 ← 点击这个
   └── ...

2. 看到函数列表
   ├── ai-diagnosis
   ├── ai-multi-model ← 需要配置这个
   ├── breeding-todo
   ├── ...
   ├── process-ai-diagnosis ← 需要配置这个
   └── ...

3. 点击 process-ai-diagnosis
   → 进入函数详情页
   
4. 看到顶部标签页
   ├── 函数代码
   ├── 函数配置 ← 点击这个
   ├── 触发器
   └── 日志

5. 在函数配置页面
   找到 "超时时间" 这一栏
   ├── 超时时间: [60] 秒 ← 当前值
   └── 改为: [150] 秒 ← 改成这个
   
6. 拉到页面底部
   点击 [保存] 按钮 ✅
```

---

### 第3步：配置第二个云函数

**重复上面的步骤**：

```
1. 返回云函数列表
2. 点击 ai-multi-model
3. 点击 函数配置 标签
4. 找到 超时时间
5. 改为: 120 秒
6. 点击 保存 ✅
```

---

## 📊 配置对照表

| 云函数 | 当前超时 | 改为 | 位置 |
|--------|---------|------|------|
| `process-ai-diagnosis` | 60秒 | **150秒** | 云函数 → process-ai-diagnosis → 函数配置 → 超时时间 |
| `ai-multi-model` | 60秒 | **120秒** | 云函数 → ai-multi-model → 函数配置 → 超时时间 |

---

## 🎯 如何确认配置成功？

### 方法1：看配置页面

```
函数配置页面
  基础配置
    ├── 超时时间: 150 秒 ✅  (process-ai-diagnosis)
    ├── 超时时间: 120 秒 ✅  (ai-multi-model)
    └── 内存: 256 MB
```

### 方法2：看函数列表

有些控制台会在列表页显示超时时间：
```
函数名称              | 超时时间 | 内存
process-ai-diagnosis  | 150秒 ✅ | 256MB
ai-multi-model        | 120秒 ✅ | 256MB
```

---

## ⚠️ 常见问题

### Q1: 找不到"云开发"菜单？

**解决**：
```
1. 检查是否在微信开发者工具中
2. 顶部菜单栏可能因窗口太小而隐藏
3. 尝试放大窗口
4. 或直接用浏览器打开：
   https://console.cloud.tencent.com/tcb
```

### Q2: 找不到"函数配置"标签？

**解决**：
```
1. 确保点击了云函数名称（不是只展开文件夹）
2. 进入函数详情页后，看顶部标签页
3. 标签页可能需要横向滚动
```

### Q3: 改了之后还是60秒？

**解决**：
```
1. 检查是否点击了"保存"按钮
2. 刷新页面，确认显示新值
3. 等待2分钟让配置生效
```

---

## 🚀 配置完成后

### 立即测试

```
1. 等待2分钟（配置生效）
2. 返回小程序
3. 删除之前上传的图片（如果有）
4. 重新上传1张清晰图片
5. 提交诊断
6. 耐心等待60-90秒
7. 成功！✅
```

### 预期结果

**云函数日志**：
```
process-ai-diagnosis:
  开始处理诊断任务
  调用 ai-multi-model
  执行时间: 34秒 ✅
  任务状态: completed ✅
```

**前端显示**：
```
✅ 诊断中...（60-90秒）
✅ 诊断完成！
✅ 显示完整的诊断结果
```

---

## 💡 为什么上传代码还不够？

**代码修改**：解决"触发超时就标记失败"的问题
**超时配置**：解决"真正执行超时"的问题

**两个都需要！**

```
只上传代码 ❌
→ 触发不会标记失败了
→ 但执行还是会超时

上传代码 + 配置超时 ✅
→ 触发不会标记失败
→ 执行也不会超时
→ 成功！🎉
```

---

## 📞 还是找不到？

**请截图您的控制台页面，我来指引您！**

需要看到：
1. 控制台的左侧菜单
2. 或云函数列表页面
3. 或任何您看到的页面

我会告诉您下一步点哪里！

---

**现在就打开云开发控制台配置超时吧！** 🚀

配置2分钟，等待2分钟，测试1分钟，5分钟搞定！

